{% extends 'base/inicio.html' %}
{% block inicio %}
    {% from "macros/macro1.html" import render_entryes %}
    <div id="tf-contact">
    <h2>hola</h2>
      <div id="pinche-juego">
        <script type="text/javascript">
        //Inicio del Juego
        //JCGE 07/06/2017
        var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'pinche-juego', { preload: preload, create: create, update: update });

        function preload() {
            //Declaramos el pinche mono
            var pixelWidth = 6;
            var pixelHeight = 6;
            var chick = [
                '...55.......',
                '.....5......',
                '...7888887..',
                '..788888887.',
                '..888088808.',
                '..888886666.',
                '..8888644444',
                '..8888645555',
                '888888644444',
                '88788776555.',
                '78788788876.',
                '56655677776.',
                '456777777654',
                '.4........4.'
            ];
            game.create.texture('chick', chick, pixelWidth, pixelHeight);
            game.load.spritesheet('warrior',"{{ url_for('static', filename='img/warrior-right.png') }}",10,10,10);
        }

        function create() {
            var warrior = game.add.sprite(300,200, 'warrior');
            var walk = warrior.animations.add('walk');
            warrior.animations.play('walk', 30, true);
            //Creamos el sprite
            player = game.add.sprite(150, 200, 'chick');
            //Habilitamos la fisica dentro del juego
            game.physics.startSystem(Phaser.Physics.ARCADE);
            //Le decimos que el jugador formara parte de los objetos
            //con movimiento
            game.physics.arcade.enable(player);
            //Que choque con las paredes
            player.body.collideWorldBounds = true;
            //El texto de puntaje
            scoreText = game.add.text(16, 16, 'score: 0', { fontSize: '32px', fill: '#FFF' });
            //Declaramos el uso de controles
            cursors = game.input.keyboard.createCursorKeys();
        }

        function update() {
            //  Reset the players velocity (movement)
            player.body.velocity.x = 0;
            player.body.velocity.y = 0;

            if (cursors.left.isDown)
            {
                //  Move to the left
                player.body.velocity.x = -150;
            }
            else if (cursors.right.isDown)
            {
                //  Move to the right
                player.body.velocity.x = 150;
            }
            
            if (cursors.up.isDown)
            {
                //  Move to the right
                player.body.velocity.y = -150;
            }
            else if (cursors.down.isDown)
            {
                //  Move to the right
                player.body.velocity.y = 150;
            }
        }
        </script>
      </div>
    </div>
{% endblock inicio %}